<div class="mb-3">
  <label class="form-label d-block">
    {{ label }}
    @if (control.hasValidator(null!) || control.errors?.['required']) { <span class="text-danger">*</span> }
  </label>
  
  @for (opt of options; track opt.code) {
    <div class="form-check form-check-inline">
      <input 
        class="form-check-input" 
        type="radio" 
        [formControl]="control" 
        [id]="id + '_' + opt.code" 
        [value]="opt.code"
        [class.is-invalid]="control.invalid && (control.dirty || control.touched)"
      >
      <label class="form-check-label" [attr.for]="id + '_' + opt.code">{{ opt.label }}</label>
    </div>
  }

  @if (control.invalid && (control.dirty || control.touched)) {
    <div class="text-danger small mt-1">
      @if (control.hasError('required')) {
        Please select an option.
      }
    </div>
  }
</div>
