<div class="mb-3">
  <label [attr.for]="id" class="form-label">
    {{ label }}
    @if (control.hasValidator(null!) || control.errors?.['required']) { <span class="text-danger">*</span> }
  </label>
  <select 
    [formControl]="control" 
    [id]="id" 
    class="form-select"
    [class.is-invalid]="control.invalid && (control.dirty || control.touched)"
  >
    <option value="">Select One</option>
    @for (opt of options; track opt.code) {
      <option [value]="opt.code">{{ opt.label }}</option>
    }
  </select>

  @if (control.invalid && (control.dirty || control.touched)) {
    <div class="invalid-feedback">
      @if (control.hasError('required')) {
        Please select a {{ label | lowercase }}.
      }
    </div>
  }
</div>
